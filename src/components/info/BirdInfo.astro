---
import AudioPlayer from './AudioPlayer.astro';
import Paragraph from './Content.astro';
import Map from './Map.astro';
import Stats from './Stats.astro';
import Stats2 from './Stats2.astro';
import Title from './Title.astro';

interface Props{
    url:string
}
const {url} = Astro.props;

const response = await fetch(url);
const data = await response.json();
---

<div class="my-4 mx-8 selection:bg-primary">
    <div class="flex flex-col md:flex-row items-center justify-center my-4">
        <div class="md:order-3">
            <Title 
            spanish={data.name.spanish}
            latin={data.name.latin}
            english={data.name.english}
            />
            <div class="hidden md:block">
                <AudioPlayer audio={data.audio.file}/>
            </div>
        </div>
        <div class="divider divider-horizontal md:order-2"></div>
        <div>
            <img class="rounded-lg w-96 h-96 md:order-1 drop-shadow-lg" src={data.images.main} alt={data.name.spanish}>
        </div>
        <div class="md:hidden">    
            <AudioPlayer audio={data.audio.file}/>
        </div>
    </div>

    <div class="flex flex-col items-center my-4 ">
        <Stats  
            order={data.order} 
            size={data.size} 
            species={data.species}
        />
        <Stats2
            dimorphism={data.dimorphism}
            migration={data.migration}
        />

    </div>
    <Paragraph 
        content={data.habitat}
    />
    <Paragraph 
        content={data.didyouknow}
    />
    <Map 
        title={data.map.title}
        map={data.map.image}
    />

</div>